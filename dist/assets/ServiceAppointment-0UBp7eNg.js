import{r as g,c as D,h as W,z as C,B as o,R as t,J as i,al as d,Q as q,a5 as G,aB as H,A as f,O as p,P as u,W as X,I as B,L as M}from"./vendor-DdeEpjzh.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as y,b as ee}from"./element-DkRX-ly5.js";const te={class:"service-appointment"},ae={class:"back-button-container"},oe={class:"search-filter"},le={class:"hot-services-section"},ie={class:"hot-services-grid"},se=["onClick"],ne={class:"service-card-content"},re={class:"service-info"},ce={class:"service-name"},de={class:"service-description"},pe={class:"service-price-container"},ue={class:"service-price"},me={class:"all-services-section"},ve={class:"section-header"},ge={class:"service-name-cell"},he=["src","alt"],_e={class:"price-tag"},fe={class:"rating"},ye={class:"pagination-container"},we={class:"my-appointments-section"},be={__name:"ServiceAppointment",setup(Ce){const T=H(),m=g(""),v=g("all"),w=g(""),r=g({currentPage:1,pageSize:10}),L=g([{id:1,name:"全面体检套餐",doctor:"张医生",price:1280,tags:["热门","全面"],imageUrl:"/health-service-platform/service1.jpg"},{id:2,name:"心血管健康评估",doctor:"李医生",price:880,tags:["专家","专科"],imageUrl:"/health-service-platform/service2.jpg"},{id:3,name:"中医体质辨识",doctor:"王医生",price:380,tags:["特色","中医"],imageUrl:"/health-service-platform/service3.jpg"},{id:4,name:"亚健康调理",doctor:"陈医生",price:580,tags:["调理","健康"],imageUrl:"/health-service-platform/service4.jpg"}]),k=g([{id:1,name:"全面体检套餐",doctor:"张医生",category:"常规体检",price:1280,duration:120,rating:4.8,imageUrl:"/health-service-platform/service1.jpg"},{id:2,name:"心血管健康评估",doctor:"李医生",category:"专科检查",price:880,duration:90,rating:4.9,imageUrl:"/health-service-platform/service2.jpg"},{id:3,name:"中医体质辨识",doctor:"王医生",category:"健康评估",price:380,duration:60,rating:4.7,imageUrl:"/health-service-platform/service3.jpg"},{id:4,name:"亚健康调理",doctor:"陈医生",category:"康复治疗",price:580,duration:45,rating:4.6,imageUrl:"/health-service-platform/service4.jpg"},{id:5,name:"心理咨询服务",doctor:"刘医生",category:"专家问诊",price:680,duration:50,rating:4.8,imageUrl:"/health-service-platform/service5.jpg"},{id:6,name:"骨密度检查",doctor:"赵医生",category:"专科检查",price:480,duration:30,rating:4.7,imageUrl:"/health-service-platform/service6.jpg"},{id:7,name:"血糖监测套餐",doctor:"黄医生",category:"常规体检",price:280,duration:40,rating:4.5,imageUrl:"/health-service-platform/service7.jpg"},{id:8,name:"营养师咨询",doctor:"孙医生",category:"健康评估",price:380,duration:50,rating:4.9,imageUrl:"/health-service-platform/service8.jpg"}]),N=g([{id:1,serviceName:"心血管健康评估",appointmentDate:"2024-10-28",appointmentTime:"09:30",doctor:"李医生",status:"已预约"},{id:2,serviceName:"全面体检套餐",appointmentDate:"2024-10-15",appointmentTime:"14:00",doctor:"张医生",status:"已完成"},{id:3,serviceName:"中医体质辨识",appointmentDate:"2024-10-20",appointmentTime:"10:00",doctor:"王医生",status:"已完成"}]),P=D(()=>{let l=[...k.value];if(m.value){const h=m.value.toLowerCase();l=l.filter(c=>c.name.toLowerCase().includes(h)||c.doctor.toLowerCase().includes(h))}if(v.value!=="all"){const h={physical:"常规体检",consultation:"专家问诊",specialist:"专科检查",assessment:"健康评估",rehabilitation:"康复治疗"};l=l.filter(c=>c.category===h[v.value])}const e=(r.value.currentPage-1)*r.value.pageSize,s=e+r.value.pageSize;return l.slice(e,s)}),z=D(()=>{let l=[...k.value];if(m.value){const e=m.value.toLowerCase();l=l.filter(s=>s.name.toLowerCase().includes(e)||s.doctor.toLowerCase().includes(e))}if(v.value!=="all"){const e={physical:"常规体检",consultation:"专家问诊",specialist:"专科检查",assessment:"健康评估",rehabilitation:"康复治疗"};l=l.filter(s=>s.category===e[v.value])}return l.length}),Y=()=>{T.push("/user/home")},$=()=>{r.value.currentPage=1,console.log("搜索服务",{searchKeyword:m.value,category:v.value,date:w.value})},S=l=>{y.info("查看服务详情功能正在开发中")},U=l=>{y.info(`预约服务：${l.name}`)},A=async l=>{try{await ee.confirm("确定要取消这个预约吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.success("预约已取消")}catch{}},I=l=>{y.info("查看报告功能正在开发中")},E=l=>{y.info("查看预约详情功能正在开发中")},R=l=>({已预约:"primary",已完成:"success",已取消:"danger",进行中:"warning"})[l]||"info",K=l=>{r.value.pageSize=l,r.value.currentPage=1},F=l=>{r.value.currentPage=l};return W(()=>{console.log("加载服务预约数据")}),(l,e)=>{const s=d("el-button"),h=d("el-input"),c=d("el-option"),J=d("el-select"),O=d("el-date-picker"),b=d("el-card"),x=d("el-pagination"),n=d("el-table-column"),j=d("el-tag"),Q=d("el-rate"),V=d("el-table");return f(),C("div",te,[e[15]||(e[15]=o("div",{class:"page-header"},[o("h2",null,"服务预约"),o("p",null,"便捷预约各类健康服务，提前规划您的健康管理")],-1)),o("div",ae,[t(s,{class:"back-home-btn",onClick:Y},{default:i(()=>[...e[3]||(e[3]=[p("返回首页",-1)])]),_:1})]),t(b,{class:"search-filter-card",shadow:"hover"},{default:i(()=>[o("div",oe,[t(h,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),placeholder:"搜索服务名称或医生",clearable:"","prefix-icon":"el-icon-search",class:"search-input"},null,8,["modelValue"]),t(J,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a),placeholder:"选择服务分类",class:"category-select"},{default:i(()=>[t(c,{label:"全部服务",value:"all"}),t(c,{label:"常规体检",value:"physical"}),t(c,{label:"专家问诊",value:"consultation"}),t(c,{label:"专科检查",value:"specialist"}),t(c,{label:"健康评估",value:"assessment"}),t(c,{label:"康复治疗",value:"rehabilitation"})]),_:1},8,["modelValue"]),t(O,{modelValue:w.value,"onUpdate:modelValue":e[2]||(e[2]=a=>w.value=a),type:"date",placeholder:"选择预约日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"date-picker"},null,8,["modelValue"]),t(s,{type:"primary",onClick:$},{default:i(()=>[...e[4]||(e[4]=[p("搜索",-1)])]),_:1})])]),_:1}),o("div",le,[e[7]||(e[7]=o("div",{class:"section-header"},[o("h3",null,"热门服务推荐")],-1)),o("div",ie,[(f(!0),C(q,null,G(L.value,a=>(f(),C("div",{key:a.id,class:"service-card",onClick:_=>S(a.id)},[o("div",ne,[e[6]||(e[6]=o("div",{class:"image-placeholder"},[o("div",{class:"placeholder-icon"},[o("i",{class:"el-icon-picture-outline"})]),o("div",{class:"placeholder-text"},"图片区域")],-1)),o("div",re,[o("div",ce,u(a.name),1),o("div",de,u(a.description||"提供专业的健康服务，满足您的健康需求。"),1),o("div",pe,[o("div",ue,"¥"+u(a.price),1)]),t(s,{class:"add-to-cart-btn",onClick:X(_=>U(a),["stop"])},{default:i(()=>[...e[5]||(e[5]=[o("i",{class:"el-icon-shopping-cart-2"},null,-1),p(" 加入购物车 ",-1)])]),_:1},8,["onClick"])])])],8,se))),128))])]),o("div",me,[o("div",ve,[e[8]||(e[8]=o("h3",null,"所有服务",-1)),t(x,{"current-page":r.value.currentPage,"page-size":r.value.pageSize,"page-sizes":[10,20,50],layout:"total, sizes",total:z.value,onSizeChange:K},null,8,["current-page","page-size","total"])]),t(b,{class:"services-table-card",shadow:"hover"},{default:i(()=>[t(V,{data:P.value,style:{width:"100%"}},{default:i(()=>[t(n,{prop:"name",label:"服务名称","min-width":"150"},{default:i(a=>[o("div",ge,[o("img",{src:a.row.imageUrl,alt:a.row.name,class:"service-cell-img"},null,8,he),o("span",null,u(a.row.name),1)])]),_:1}),t(n,{prop:"doctor",label:"主治医生",width:"120"}),t(n,{prop:"category",label:"服务分类",width:"120"},{default:i(a=>[t(j,{size:"small",type:"info"},{default:i(()=>[p(u(a.row.category),1)]),_:2},1024)]),_:1}),t(n,{prop:"price",label:"服务价格",width:"100"},{default:i(a=>[o("span",_e,"¥"+u(a.row.price),1)]),_:1}),t(n,{prop:"duration",label:"服务时长",width:"100"},{default:i(a=>[p(u(a.row.duration)+"分钟 ",1)]),_:1}),t(n,{prop:"rating",label:"用户评分",width:"100"},{default:i(a=>[o("div",fe,[t(Q,{"model-value":a.row.rating,disabled:"","show-score":"","text-color":"#ff9900"},null,8,["model-value"])])]),_:1}),t(n,{label:"操作",width:"180",fixed:"right"},{default:i(a=>[t(s,{type:"primary",size:"small",onClick:_=>S(a.row.id)},{default:i(()=>[...e[9]||(e[9]=[p("详情",-1)])]),_:1},8,["onClick"]),t(s,{type:"success",size:"small",onClick:_=>U(a.row)},{default:i(()=>[...e[10]||(e[10]=[p("预约",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),o("div",ye,[t(x,{"current-page":r.value.currentPage,"page-size":r.value.pageSize,"page-sizes":[10,20,50],layout:"prev, pager, next, jumper",total:z.value,onCurrentChange:F,class:"enhanced-pagination"},null,8,["current-page","page-size","total"])])]),_:1})]),o("div",we,[e[14]||(e[14]=o("div",{class:"section-header"},[o("h3",null,"我的预约")],-1)),t(b,{class:"appointments-table-card",shadow:"hover"},{default:i(()=>[t(V,{data:N.value,style:{width:"100%"},fit:""},{default:i(()=>[t(n,{prop:"serviceName",label:"服务名称","min-width":"180"}),t(n,{prop:"appointmentDate",label:"预约日期","min-width":"120"}),t(n,{prop:"appointmentTime",label:"预约时间","min-width":"100"}),t(n,{prop:"doctor",label:"医生","min-width":"120"}),t(n,{prop:"status",label:"状态","min-width":"100"},{default:i(a=>[t(j,{type:R(a.row.status)},{default:i(()=>[p(u(a.row.status),1)]),_:2},1032,["type"])]),_:1}),t(n,{label:"操作","min-width":"150",fixed:"right"},{default:i(a=>[a.row.status==="已预约"?(f(),B(s,{key:0,type:"danger",size:"small",onClick:_=>A(a.row.id)},{default:i(()=>[...e[11]||(e[11]=[p(" 取消 ",-1)])]),_:1},8,["onClick"])):M("",!0),a.row.status==="已完成"?(f(),B(s,{key:1,type:"primary",size:"small",onClick:_=>I(a.row.id)},{default:i(()=>[...e[12]||(e[12]=[p(" 查看报告 ",-1)])]),_:1},8,["onClick"])):M("",!0),t(s,{type:"info",size:"small",onClick:_=>E(a.row.id)},{default:i(()=>[...e[13]||(e[13]=[p(" 详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])])}}},Ue=Z(be,[["__scopeId","data-v-e265d36e"]]);export{Ue as default};
