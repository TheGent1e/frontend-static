import{r as m,c as D,h as W,z as b,B as l,R as e,J as i,al as d,Q as q,a5 as G,aB as H,A as f,O as p,P as u,W as X,I as B,L as M}from"./vendor-DdeEpjzh.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as y,b as ee}from"./element-DkRX-ly5.js";const te={class:"service-appointment"},ae={class:"back-button-container"},le={class:"search-filter"},oe={class:"hot-services-section"},ie={class:"hot-services-grid"},se=["onClick"],ne={class:"service-card-content"},re={class:"service-info"},ce={class:"service-name"},de={class:"service-description"},pe={class:"service-price-container"},ue={class:"service-price"},me={class:"all-services-section"},ve={class:"section-header"},ge={class:"service-name-cell"},he=["src","alt"],_e={class:"price-tag"},fe={class:"rating"},ye={class:"pagination-container"},we={class:"my-appointments-section"},be={__name:"ServiceAppointment",setup(Ce){const T=H(),v=m(""),g=m("all"),C=m(""),c=m({currentPage:1,pageSize:10}),L=m([{id:1,name:"全面体检套餐",doctor:"张医生",price:1280,tags:["热门","全面"],imageUrl:"/health-service-platform/service1.jpg"},{id:2,name:"心血管健康评估",doctor:"李医生",price:880,tags:["专家","专科"],imageUrl:"/health-service-platform/service2.jpg"},{id:3,name:"中医体质辨识",doctor:"王医生",price:380,tags:["特色","中医"],imageUrl:"/health-service-platform/service3.jpg"},{id:4,name:"亚健康调理",doctor:"陈医生",price:580,tags:["调理","健康"],imageUrl:"/health-service-platform/service4.jpg"}]),k=m([{id:1,name:"全面体检套餐",doctor:"张医生",category:"常规体检",price:1280,duration:120,rating:4.8,imageUrl:"/health-service-platform/service1.jpg"},{id:2,name:"心血管健康评估",doctor:"李医生",category:"专科检查",price:880,duration:90,rating:4.9,imageUrl:"/health-service-platform/service2.jpg"},{id:3,name:"中医体质辨识",doctor:"王医生",category:"健康评估",price:380,duration:60,rating:4.7,imageUrl:"/health-service-platform/service3.jpg"},{id:4,name:"亚健康调理",doctor:"陈医生",category:"康复治疗",price:580,duration:45,rating:4.6,imageUrl:"/health-service-platform/service4.jpg"},{id:5,name:"心理咨询服务",doctor:"刘医生",category:"专家问诊",price:680,duration:50,rating:4.8,imageUrl:"/health-service-platform/service5.jpg"},{id:6,name:"骨密度检查",doctor:"赵医生",category:"专科检查",price:480,duration:30,rating:4.7,imageUrl:"/health-service-platform/service6.jpg"},{id:7,name:"血糖监测套餐",doctor:"黄医生",category:"常规体检",price:280,duration:40,rating:4.5,imageUrl:"/health-service-platform/service7.jpg"},{id:8,name:"营养师咨询",doctor:"孙医生",category:"健康评估",price:380,duration:50,rating:4.9,imageUrl:"/health-service-platform/service8.jpg"}]),N=m([{id:1,serviceName:"心血管健康评估",appointmentDate:"2024-10-28",appointmentTime:"09:30",doctor:"李医生",status:"已预约"},{id:2,serviceName:"全面体检套餐",appointmentDate:"2024-10-15",appointmentTime:"14:00",doctor:"张医生",status:"已完成"},{id:3,serviceName:"中医体质辨识",appointmentDate:"2024-10-20",appointmentTime:"10:00",doctor:"王医生",status:"已完成"}]),P=D(()=>{let o=[...k.value];if(v.value){const h=v.value.toLowerCase();o=o.filter(s=>s.name.toLowerCase().includes(h)||s.doctor.toLowerCase().includes(h))}if(g.value!=="all"){const h={physical:"常规体检",consultation:"专家问诊",specialist:"专科检查",assessment:"健康评估",rehabilitation:"康复治疗"};o=o.filter(s=>s.category===h[g.value])}const t=(c.value.currentPage-1)*c.value.pageSize,n=t+c.value.pageSize;return o.slice(t,n)}),z=D(()=>{let o=[...k.value];if(v.value){const t=v.value.toLowerCase();o=o.filter(n=>n.name.toLowerCase().includes(t)||n.doctor.toLowerCase().includes(t))}if(g.value!=="all"){const t={physical:"常规体检",consultation:"专家问诊",specialist:"专科检查",assessment:"健康评估",rehabilitation:"康复治疗"};o=o.filter(n=>n.category===t[g.value])}return o.length}),Y=()=>{T.push("/user/home")},$=()=>{c.value.currentPage=1},S=o=>{y.info("查看服务详情功能正在开发中")},U=o=>{y.info(`预约服务：${o.name}`)},A=async o=>{try{await ee.confirm("确定要取消这个预约吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.success("预约已取消")}catch{}},I=o=>{y.info("查看报告功能正在开发中")},E=o=>{y.info("查看预约详情功能正在开发中")},R=o=>({已预约:"primary",已完成:"success",已取消:"danger",进行中:"warning"})[o]||"info",F=o=>{c.value.pageSize=o,c.value.currentPage=1},J=o=>{c.value.currentPage=o};return W(()=>{}),(o,t)=>{const n=d("el-button"),h=d("el-input"),s=d("el-option"),K=d("el-select"),O=d("el-date-picker"),w=d("el-card"),x=d("el-pagination"),r=d("el-table-column"),j=d("el-tag"),Q=d("el-rate"),V=d("el-table");return f(),b("div",te,[t[15]||(t[15]=l("div",{class:"page-header"},[l("h2",null,"服务预约"),l("p",null,"便捷预约各类健康服务，提前规划您的健康管理")],-1)),l("div",ae,[e(n,{class:"back-home-btn",onClick:Y},{default:i(()=>[...t[3]||(t[3]=[p("返回首页",-1)])]),_:1})]),e(w,{class:"search-filter-card",shadow:"hover"},{default:i(()=>[l("div",le,[e(h,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=a=>v.value=a),placeholder:"搜索服务名称或医生",clearable:"","prefix-icon":"el-icon-search",class:"search-input"},null,8,["modelValue"]),e(K,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=a=>g.value=a),placeholder:"选择服务分类",class:"category-select"},{default:i(()=>[e(s,{label:"全部服务",value:"all"}),e(s,{label:"常规体检",value:"physical"}),e(s,{label:"专项体检",value:"special-physical"}),e(s,{label:"高端体检",value:"high-end-physical"}),e(s,{label:"图文问诊",value:"text-consultation"}),e(s,{label:"视频问诊",value:"video-consultation"}),e(s,{label:"电话问诊",value:"phone-consultation"}),e(s,{label:"疫苗接种",value:"vaccination"}),e(s,{label:"中医理疗",value:"tcm-therapy"}),e(s,{label:"物理治疗",value:"physical-therapy"}),e(s,{label:"康复理疗",value:"rehabilitation"}),e(s,{label:"健康评估",value:"assessment"}),e(s,{label:"体重管理",value:"weight-management"}),e(s,{label:"慢病管理",value:"chronic-disease"})]),_:1},8,["modelValue"]),e(O,{modelValue:C.value,"onUpdate:modelValue":t[2]||(t[2]=a=>C.value=a),type:"date",placeholder:"选择预约日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"date-picker"},null,8,["modelValue"]),e(n,{type:"primary",onClick:$},{default:i(()=>[...t[4]||(t[4]=[p("搜索",-1)])]),_:1})])]),_:1}),l("div",oe,[t[7]||(t[7]=l("div",{class:"section-header"},[l("h3",null,"热门服务推荐")],-1)),l("div",ie,[(f(!0),b(q,null,G(L.value,a=>(f(),b("div",{key:a.id,class:"service-card",onClick:_=>S(a.id)},[l("div",ne,[t[6]||(t[6]=l("div",{class:"image-placeholder"},[l("div",{class:"placeholder-icon"},[l("i",{class:"el-icon-picture-outline"})]),l("div",{class:"placeholder-text"},"图片区域")],-1)),l("div",re,[l("div",ce,u(a.name),1),l("div",de,u(a.description||"提供专业的健康服务，满足您的健康需求。"),1),l("div",pe,[l("div",ue,"¥"+u(a.price),1)]),e(n,{class:"add-to-cart-btn",onClick:X(_=>U(a),["stop"])},{default:i(()=>[...t[5]||(t[5]=[l("i",{class:"el-icon-shopping-cart-2"},null,-1),p(" 加入购物车 ",-1)])]),_:1},8,["onClick"])])])],8,se))),128))])]),l("div",me,[l("div",ve,[t[8]||(t[8]=l("h3",null,"所有服务",-1)),e(x,{"current-page":c.value.currentPage,"page-size":c.value.pageSize,"page-sizes":[10,20,50],layout:"total, sizes",total:z.value,onSizeChange:F},null,8,["current-page","page-size","total"])]),e(w,{class:"services-table-card",shadow:"hover"},{default:i(()=>[e(V,{data:P.value,style:{width:"100%"}},{default:i(()=>[e(r,{prop:"name",label:"服务名称","min-width":"150"},{default:i(a=>[l("div",ge,[l("img",{src:a.row.imageUrl,alt:a.row.name,class:"service-cell-img"},null,8,he),l("span",null,u(a.row.name),1)])]),_:1}),e(r,{prop:"doctor",label:"主治医生",width:"120"}),e(r,{prop:"category",label:"服务分类",width:"120"},{default:i(a=>[e(j,{size:"small",type:"info"},{default:i(()=>[p(u(a.row.category),1)]),_:2},1024)]),_:1}),e(r,{prop:"price",label:"服务价格",width:"100"},{default:i(a=>[l("span",_e,"¥"+u(a.row.price),1)]),_:1}),e(r,{prop:"duration",label:"服务时长",width:"100"},{default:i(a=>[p(u(a.row.duration)+"分钟 ",1)]),_:1}),e(r,{prop:"rating",label:"用户评分",width:"100"},{default:i(a=>[l("div",fe,[e(Q,{"model-value":a.row.rating,disabled:"","show-score":"","text-color":"#ff9900"},null,8,["model-value"])])]),_:1}),e(r,{label:"操作",width:"180",fixed:"right"},{default:i(a=>[e(n,{type:"primary",size:"small",onClick:_=>S(a.row.id)},{default:i(()=>[...t[9]||(t[9]=[p("详情",-1)])]),_:1},8,["onClick"]),e(n,{type:"success",size:"small",onClick:_=>U(a.row)},{default:i(()=>[...t[10]||(t[10]=[p("预约",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",ye,[e(x,{"current-page":c.value.currentPage,"page-size":c.value.pageSize,"page-sizes":[10,20,50],layout:"prev, pager, next, jumper",total:z.value,onCurrentChange:J,class:"enhanced-pagination"},null,8,["current-page","page-size","total"])])]),_:1})]),l("div",we,[t[14]||(t[14]=l("div",{class:"section-header"},[l("h3",null,"我的预约")],-1)),e(w,{class:"appointments-table-card",shadow:"hover"},{default:i(()=>[e(V,{data:N.value,style:{width:"100%"},fit:""},{default:i(()=>[e(r,{prop:"serviceName",label:"服务名称","min-width":"180"}),e(r,{prop:"appointmentDate",label:"预约日期","min-width":"120"}),e(r,{prop:"appointmentTime",label:"预约时间","min-width":"100"}),e(r,{prop:"doctor",label:"医生","min-width":"120"}),e(r,{prop:"status",label:"状态","min-width":"100"},{default:i(a=>[e(j,{type:R(a.row.status)},{default:i(()=>[p(u(a.row.status),1)]),_:2},1032,["type"])]),_:1}),e(r,{label:"操作","min-width":"150",fixed:"right"},{default:i(a=>[a.row.status==="已预约"?(f(),B(n,{key:0,type:"danger",size:"small",onClick:_=>A(a.row.id)},{default:i(()=>[...t[11]||(t[11]=[p(" 取消 ",-1)])]),_:1},8,["onClick"])):M("",!0),a.row.status==="已完成"?(f(),B(n,{key:1,type:"primary",size:"small",onClick:_=>I(a.row.id)},{default:i(()=>[...t[12]||(t[12]=[p(" 查看报告 ",-1)])]),_:1},8,["onClick"])):M("",!0),e(n,{type:"info",size:"small",onClick:_=>E(a.row.id)},{default:i(()=>[...t[13]||(t[13]=[p(" 详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])])}}},Ue=Z(be,[["__scopeId","data-v-c60773ef"]]);export{Ue as default};
