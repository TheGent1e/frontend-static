import{r,h as te,z as f,B as s,R as l,J as t,al as c,aB as ae,A as v,O as n,P as $,I as oe,L as se,Q as A}from"./vendor-DdeEpjzh.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as g,b as T}from"./element-DkRX-ly5.js";const ie={class:"health-record"},ne={class:"back-button-container"},re={class:"health-content"},ue={key:0,class:"tab-content"},pe={class:"card-header"},ce={key:1,class:"tab-content"},me={class:"card-header"},ve={key:2,class:"tab-content"},fe={class:"card-header"},be={class:"indicator-content"},ye={key:0},ge={key:1},_e={class:"chart-container"},we={class:"chart-placeholder"},he={key:3,class:"tab-content"},ke={class:"card-header"},xe={key:4,class:"tab-content"},Ve={class:"card-header"},Ce={class:"content-placeholder"},Be={__name:"HealthRecord",setup(Re){const H=ae(),u=r("physical-exam"),b=r("blood-pressure"),h=r(!1),y=r(""),N=r(""),R=r(!1);r({});const k=r(null),I=r([]),p=r({date:"",hospital:"",type:"",status:"",content:""}),J=r({date:[{required:!0,message:"请选择日期",trigger:"change"}],hospital:[{required:!0,message:"请输入体检机构",trigger:"blur"}],type:[{required:!0,message:"请选择体检类型",trigger:"change"}],status:[{required:!0,message:"请选择报告状态",trigger:"change"}],content:[{required:!0,message:"请输入记录内容",trigger:"blur"}]}),D=r([{id:1,date:"2024-01-15",hospital:"健康医院",type:"常规体检",status:"已完成"},{id:2,date:"2023-06-20",hospital:"人民医院",type:"专项体检",status:"已完成"}]),M=r([{id:1,date:"2024-02-10",hospital:"健康医院",department:"内科",doctor:"张医生",diagnosis:"感冒"},{id:2,date:"2023-12-05",hospital:"人民医院",department:"外科",doctor:"李医生",diagnosis:"阑尾炎"}]),z=r([{id:1,date:"2024-03-01",time:"08:00",systolic:120,diastolic:80,pulse:75,status:"正常"},{id:2,date:"2024-03-02",time:"08:30",systolic:125,diastolic:85,pulse:78,status:"正常"},{id:3,date:"2024-03-03",time:"09:00",systolic:130,diastolic:90,pulse:80,status:"轻度高血压"}]),U=r([{id:1,drugName:"感冒灵颗粒",dosage:"10g",usage:"每日3次，每次1袋",startDate:"2024-02-10",endDate:"2024-02-15",effect:"症状缓解"},{id:2,drugName:"阿莫西林胶囊",dosage:"0.5g",usage:"每日3次，每次2粒",startDate:"2023-12-05",endDate:"2023-12-12",effect:"恢复良好"}]),O=()=>{H.push("/user/home")},x=d=>{switch(N.value=d,d){case"physical-exam":y.value="添加体检报告";break;case"medical-records":y.value="添加就诊记录";break;case"daily-indicators":y.value="添加日常指标";break;case"medication-records":y.value="添加用药记录";break;case"exercise-data":y.value="添加运动数据";break;case"sleep-data":y.value="添加睡眠数据";break;case"diet-records":y.value="添加饮食记录";break;default:y.value="添加记录"}p.value={date:"",hospital:"",type:"",status:"",content:""},k.value&&k.value.resetFields(),I.value=[],h.value=!0},Q=async()=>{if(k.value)try{await k.value.validate(),R.value=!0,await new Promise(d=>setTimeout(d,1e3)),g.success("记录保存成功"),h.value=!1,R.value=!1}catch(d){console.error("表单验证失败:",d),R.value=!1}},S=d=>{g.info("查看报告功能正在开发中")},j=d=>{g.info("分享报告功能正在开发中")},G=async d=>{try{await T.confirm("确定要删除这份体检报告吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),D.value=D.value.filter(e=>e.id!==d),g.success("体检报告已删除")}catch{}},K=d=>{g.info("查看就诊记录功能正在开发中")},W=async d=>{try{await T.confirm("确定要删除这条就诊记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),M.value=M.value.filter(e=>e.id!==d),g.success("就诊记录已删除")}catch{}},q=async d=>{try{await T.confirm("确定要删除这条指标记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),z.value=z.value.filter(e=>e.id!==d),g.success("指标记录已删除")}catch{}},X=d=>{g.info("查看用药记录功能正在开发中")},Y=async d=>{try{await T.confirm("确定要删除这条用药记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),U.value=U.value.filter(e=>e.id!==d),g.success("用药记录已删除")}catch{}};return te(()=>{}),(d,e)=>{const i=c("el-button"),m=c("el-tab-pane"),E=c("el-tabs"),o=c("el-table-column"),V=c("el-table"),C=c("el-card"),P=c("el-date-picker"),w=c("el-form-item"),F=c("el-input"),B=c("el-option"),L=c("el-select"),Z=c("el-upload"),ee=c("el-form"),le=c("el-dialog");return v(),f("div",ie,[e[39]||(e[39]=s("div",{class:"top-decoration"},null,-1)),e[40]||(e[40]=s("div",{class:"page-header"},[s("h2",{class:"header-title"},"健康档案"),s("p",{class:"header-desc"},"完整记录您的健康数据，随时查看健康趋势")],-1)),s("div",ne,[l(i,{type:"primary",icon:"el-icon-arrow-left",onClick:O,class:"back-btn"},{default:t(()=>[...e[15]||(e[15]=[n(" 返回首页 ",-1)])]),_:1})]),l(E,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),class:"health-tabs"},{default:t(()=>[l(m,{label:"体检报告",name:"physical-exam"}),l(m,{label:"就诊记录",name:"medical-records"}),l(m,{label:"日常指标",name:"daily-indicators"}),l(m,{label:"用药记录",name:"medication-records"}),l(m,{label:"运动数据",name:"exercise-data"}),l(m,{label:"睡眠数据",name:"sleep-data"}),l(m,{label:"饮食记录",name:"diet-records"}),l(m,{label:"健康趋势",name:"health-trends"})]),_:1},8,["modelValue"]),s("div",re,[u.value==="physical-exam"?(v(),f("div",ue,[l(C,{shadow:"hover",class:"content-card"},{header:t(()=>[s("div",pe,[e[17]||(e[17]=s("span",null,"体检报告管理",-1)),l(i,{type:"primary",icon:"el-icon-plus",onClick:e[1]||(e[1]=a=>x("physical-exam"))},{default:t(()=>[...e[16]||(e[16]=[n(" 添加报告 ",-1)])]),_:1})])]),default:t(()=>[l(V,{data:D.value,style:{width:"100%"}},{default:t(()=>[l(o,{prop:"date",label:"体检日期",width:"180"}),l(o,{prop:"hospital",label:"体检机构"}),l(o,{prop:"type",label:"体检类型"}),l(o,{prop:"status",label:"报告状态"}),l(o,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[l(i,{size:"small",onClick:_=>S(a.row.id)},{default:t(()=>[...e[18]||(e[18]=[n("查看报告",-1)])]),_:1},8,["onClick"]),l(i,{size:"small",type:"primary",onClick:_=>j(a.row.id)},{default:t(()=>[...e[19]||(e[19]=[n("分享",-1)])]),_:1},8,["onClick"]),l(i,{size:"small",type:"danger",onClick:_=>G(a.row.id)},{default:t(()=>[...e[20]||(e[20]=[n("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])):u.value==="medical-records"?(v(),f("div",ce,[l(C,{shadow:"hover",class:"content-card"},{header:t(()=>[s("div",me,[e[22]||(e[22]=s("span",null,"就诊记录管理",-1)),l(i,{type:"primary",icon:"el-icon-plus",onClick:e[2]||(e[2]=a=>x("medical-records"))},{default:t(()=>[...e[21]||(e[21]=[n(" 添加记录 ",-1)])]),_:1})])]),default:t(()=>[l(V,{data:M.value,style:{width:"100%"}},{default:t(()=>[l(o,{prop:"date",label:"就诊日期",width:"180"}),l(o,{prop:"hospital",label:"医院"}),l(o,{prop:"department",label:"科室"}),l(o,{prop:"doctor",label:"医生"}),l(o,{prop:"diagnosis",label:"诊断结果"}),l(o,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[l(i,{size:"small",onClick:_=>K(a.row.id)},{default:t(()=>[...e[23]||(e[23]=[n("查看详情",-1)])]),_:1},8,["onClick"]),l(i,{size:"small",type:"danger",onClick:_=>W(a.row.id)},{default:t(()=>[...e[24]||(e[24]=[n("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])):u.value==="daily-indicators"?(v(),f("div",ve,[l(C,{shadow:"hover",class:"content-card"},{header:t(()=>[s("div",fe,[e[26]||(e[26]=s("span",null,"日常指标管理",-1)),l(i,{type:"primary",icon:"el-icon-plus",onClick:e[3]||(e[3]=a=>x("daily-indicators"))},{default:t(()=>[...e[25]||(e[25]=[n(" 添加指标 ",-1)])]),_:1})])]),default:t(()=>[l(E,{modelValue:b.value,"onUpdate:modelValue":e[4]||(e[4]=a=>b.value=a),class:"indicator-tabs"},{default:t(()=>[l(m,{label:"血压",name:"blood-pressure"}),l(m,{label:"血糖",name:"blood-sugar"}),l(m,{label:"心率",name:"heart-rate"}),l(m,{label:"体重",name:"weight"}),l(m,{label:"BMI",name:"bmi"})]),_:1},8,["modelValue"]),s("div",be,[b.value==="blood-pressure"?(v(),f("div",ye,[e[28]||(e[28]=s("div",{class:"chart-container"},[s("h3",null,"血压趋势图"),s("div",{class:"chart-placeholder"},"血压图表区域")],-1)),l(V,{data:z.value,style:{width:"100%"}},{default:t(()=>[l(o,{prop:"date",label:"记录日期",width:"180"}),l(o,{prop:"time",label:"记录时间",width:"120"}),l(o,{prop:"systolic",label:"收缩压",width:"100"}),l(o,{prop:"diastolic",label:"舒张压",width:"100"}),l(o,{prop:"pulse",label:"脉搏",width:"100"}),l(o,{prop:"status",label:"状态",width:"100"}),l(o,{label:"操作",width:"120",fixed:"right"},{default:t(a=>[l(i,{size:"small",type:"danger",onClick:_=>q(a.row.id)},{default:t(()=>[...e[27]||(e[27]=[n("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])):(v(),f("div",ge,[s("div",_e,[s("h3",null,$(b.value==="blood-sugar"?"血糖":b.value==="heart-rate"?"心率":b.value==="weight"?"体重":"BMI")+"趋势图",1),s("div",we,$(b.value==="blood-sugar"?"血糖":b.value==="heart-rate"?"心率":b.value==="weight"?"体重":"BMI")+"图表区域",1)]),l(V,{data:[],style:{width:"100%"}},{default:t(()=>[l(o,{prop:"date",label:"记录日期",width:"180"}),l(o,{prop:"time",label:"记录时间",width:"120"}),l(o,{prop:"value",label:"数值",width:"100"}),l(o,{prop:"status",label:"状态",width:"100"}),l(o,{label:"操作",width:"120",fixed:"right"},{default:t(a=>[l(i,{size:"small",type:"danger",onClick:_=>q(a.row.id)},{default:t(()=>[...e[29]||(e[29]=[n("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]))])]),_:1})])):u.value==="medication-records"?(v(),f("div",he,[l(C,{shadow:"hover",class:"content-card"},{header:t(()=>[s("div",ke,[e[31]||(e[31]=s("span",null,"用药记录管理",-1)),l(i,{type:"primary",icon:"el-icon-plus",onClick:e[5]||(e[5]=a=>x("medication-records"))},{default:t(()=>[...e[30]||(e[30]=[n(" 添加用药记录 ",-1)])]),_:1})])]),default:t(()=>[l(V,{data:U.value,style:{width:"100%"}},{default:t(()=>[l(o,{prop:"drugName",label:"药品名称"}),l(o,{prop:"dosage",label:"剂量",width:"120"}),l(o,{prop:"usage",label:"用法用量"}),l(o,{prop:"startDate",label:"开始日期",width:"180"}),l(o,{prop:"endDate",label:"结束日期",width:"180"}),l(o,{prop:"effect",label:"用药效果"}),l(o,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[l(i,{size:"small",onClick:_=>X(a.row.id)},{default:t(()=>[...e[32]||(e[32]=[n("查看详情",-1)])]),_:1},8,["onClick"]),l(i,{size:"small",type:"danger",onClick:_=>Y(a.row.id)},{default:t(()=>[...e[33]||(e[33]=[n("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])):(v(),f("div",xe,[l(C,{shadow:"hover",class:"content-card"},{header:t(()=>[s("div",Ve,[s("span",null,$(u.value==="exercise-data"?"运动数据":u.value==="sleep-data"?"睡眠数据":u.value==="diet-records"?"饮食记录":"健康趋势"),1),u.value!=="health-trends"?(v(),oe(i,{key:0,type:"primary",icon:"el-icon-plus",onClick:e[6]||(e[6]=a=>x(u.value))},{default:t(()=>[...e[34]||(e[34]=[n(" 添加记录 ",-1)])]),_:1})):se("",!0)])]),default:t(()=>[s("div",Ce,$(u.value==="exercise-data"?"运动数据内容区域":u.value==="sleep-data"?"睡眠数据内容区域":u.value==="diet-records"?"饮食记录内容区域":"健康趋势分析区域"),1)]),_:1})]))]),l(le,{modelValue:h.value,"onUpdate:modelValue":e[14]||(e[14]=a=>h.value=a),title:y.value},{footer:t(()=>[l(i,{onClick:e[13]||(e[13]=a=>h.value=!1)},{default:t(()=>[...e[37]||(e[37]=[n("取消",-1)])]),_:1}),l(i,{type:"primary",onClick:Q,loading:R.value},{default:t(()=>[...e[38]||(e[38]=[n("保存",-1)])]),_:1},8,["loading"])]),default:t(()=>[l(ee,{model:p.value,rules:J.value,ref_key:"formRef",ref:k,"label-width":"120px"},{default:t(()=>[N.value==="physical-exam"?(v(),f(A,{key:0},[l(w,{label:"体检日期",prop:"date"},{default:t(()=>[l(P,{modelValue:p.value.date,"onUpdate:modelValue":e[7]||(e[7]=a=>p.value.date=a),type:"date",placeholder:"选择体检日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(w,{label:"体检机构",prop:"hospital"},{default:t(()=>[l(F,{modelValue:p.value.hospital,"onUpdate:modelValue":e[8]||(e[8]=a=>p.value.hospital=a),placeholder:"输入体检机构"},null,8,["modelValue"])]),_:1}),l(w,{label:"体检类型",prop:"type"},{default:t(()=>[l(L,{modelValue:p.value.type,"onUpdate:modelValue":e[9]||(e[9]=a=>p.value.type=a),placeholder:"选择体检类型"},{default:t(()=>[l(B,{label:"常规体检",value:"常规体检"}),l(B,{label:"专项体检",value:"专项体检"}),l(B,{label:"高端体检",value:"高端体检"})]),_:1},8,["modelValue"])]),_:1}),l(w,{label:"报告状态",prop:"status"},{default:t(()=>[l(L,{modelValue:p.value.status,"onUpdate:modelValue":e[10]||(e[10]=a=>p.value.status=a),placeholder:"选择报告状态"},{default:t(()=>[l(B,{label:"已完成",value:"已完成"}),l(B,{label:"待取报告",value:"待取报告"})]),_:1},8,["modelValue"])]),_:1}),l(w,{label:"报告文件"},{default:t(()=>[l(Z,{action:"#","auto-upload":!1,"file-list":I.value},{default:t(()=>[l(i,{slot:"trigger",type:"primary"},{default:t(()=>[...e[35]||(e[35]=[n("选择文件",-1)])]),_:1}),e[36]||(e[36]=s("div",{slot:"tip",class:"el-upload__tip"},"只能上传PDF文件，且不超过50MB",-1))]),_:1},8,["file-list"])]),_:1})],64)):(v(),f(A,{key:1},[l(w,{label:"记录日期",prop:"date"},{default:t(()=>[l(P,{modelValue:p.value.date,"onUpdate:modelValue":e[11]||(e[11]=a=>p.value.date=a),type:"date",placeholder:"选择记录日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(w,{label:"记录内容",prop:"content"},{default:t(()=>[l(F,{modelValue:p.value.content,"onUpdate:modelValue":e[12]||(e[12]=a=>p.value.content=a),type:"textarea",rows:4,placeholder:"输入记录内容"},null,8,["modelValue"])]),_:1})],64))]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}},Me=de(Be,[["__scopeId","data-v-01b47fe5"]]);export{Me as default};
