import{r as c,o as W,E as N,c as r,b as a,d as t,w as l,f as i,e as f,F as B,D as F,u as X,g as n,I as Y,h as u,C as Z,t as d,m as ee,J as se,L as M}from"./index-B9RLcm7_.js";import"./index-SBUbweXm.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"mall-home"},oe={class:"search-filter-section"},ie={class:"category-filter"},le={class:"sort-options"},ne={class:"products-section"},re={key:0,class:"loading-container"},ce={key:1,class:"empty-container"},de={key:2,class:"products-grid"},ue={class:"product-image"},pe=["src","alt","onClick"],ge={key:0,class:"new-tag"},me={key:1,class:"discount-tag"},_e=["onClick"],ve={class:"product-category"},ye={class:"product-name"},fe={class:"product-description"},Ce={class:"product-price-section"},he={class:"current-price"},we={key:0,class:"original-price"},be={class:"product-footer"},ke={class:"sales-count"},Ne={class:"product-actions"},Ie={key:3,class:"pagination"},Pe={__name:"MallHome",setup(Ve){const I=X(),C=c(!1),h=c(""),w=c("all"),b=c("default"),p=c(1),P=c(12),V=c(0),j=c([{id:"medical",name:"医疗器械"},{id:"nutritional",name:"营养保健品"},{id:"fitness",name:"健身器材"},{id:"elderly",name:"老年用品"},{id:"beauty",name:"美容养颜"}]),v=c([{id:1,name:"智能血压计家用上臂式全自动测量仪",description:"大屏幕显示，一键测量，操作简单，适合老年人使用",price:299,originalPrice:399,image:"/images/products/blood-pressure.jpg",categoryId:"medical",isNew:!0,discount:25,salesCount:1256,rating:4.5},{id:2,name:"家用血糖仪套装精准测血糖仪器",description:"快速出值，误差小，含50片试纸和采血针",price:199,originalPrice:249,image:"/images/products/blood-sugar.jpg",categoryId:"medical",isNew:!1,discount:20,salesCount:892,rating:4.6},{id:3,name:"记忆棉颈椎枕芯护颈枕",description:"慢回弹记忆棉，贴合颈椎曲线，缓解颈椎疲劳",price:129,image:"/images/products/pillow.jpg",categoryId:"elderly",isNew:!1,discount:0,salesCount:2341,rating:4.8},{id:4,name:"蛋白质粉增强免疫力",description:"乳清蛋白粉，富含多种氨基酸，增强体质",price:368,originalPrice:498,image:"/images/products/protein.jpg",categoryId:"nutritional",isNew:!0,discount:26,salesCount:567,rating:4.7},{id:5,name:"家用跑步机静音折叠健身器材",description:"静音设计，折叠收纳，适合家庭使用",price:1999,originalPrice:2499,image:"/images/products/treadmill.jpg",categoryId:"fitness",isNew:!1,discount:20,salesCount:342,rating:4.5},{id:6,name:"智能手环心率血压监测运动计步器",description:"24小时监测心率血压，记录运动数据，防水设计",price:199,image:"/images/products/fitness-band.jpg",categoryId:"fitness",isNew:!0,discount:0,salesCount:1893,rating:4.4},{id:7,name:"钙片中老年补钙维生素D",description:"易吸收，预防骨质疏松，适合中老年人",price:89,originalPrice:119,image:"/images/products/calcium.jpg",categoryId:"nutritional",isNew:!1,discount:25,salesCount:3201,rating:4.9},{id:8,name:"老人坐便椅可折叠移动马桶",description:"稳固耐用，折叠设计，适合行动不便的老人",price:239,image:"/images/products/toilet-chair.jpg",categoryId:"elderly",isNew:!1,discount:0,salesCount:678,rating:4.6},{id:9,name:"胶原蛋白肽粉美容养颜",description:"深海鱼胶原蛋白，改善肌肤状态，延缓衰老",price:298,originalPrice:398,image:"/images/products/collagen.jpg",categoryId:"beauty",isNew:!0,discount:25,salesCount:954,rating:4.7},{id:10,name:"家用制氧机老人氧气机",description:"医用级制氧，噪音小，操作简便",price:2499,originalPrice:2999,image:"/images/products/oxygen.jpg",categoryId:"medical",isNew:!1,discount:17,salesCount:234,rating:4.8},{id:11,name:"瑜伽垫加厚加宽加长健身垫",description:"环保材质，防滑设计，双面可用",price:89,originalPrice:129,image:"/images/products/yoga-mat.jpg",categoryId:"fitness",isNew:!1,discount:31,salesCount:1456,rating:4.5},{id:12,name:"维生素E软胶囊美容护肤",description:"抗氧化，美容养颜，提高免疫力",price:58,originalPrice:78,image:"/images/products/vitamin-e.jpg",categoryId:"beauty",isNew:!1,discount:26,salesCount:2890,rating:4.6}]);W(()=>{g()});const g=async()=>{C.value=!0;try{V.value=v.value.length}catch(o){console.error("加载商品失败",o),N.error("加载商品失败，请重试")}finally{C.value=!1}},z=()=>{p.value=1,g()},D=()=>{h.value="",w.value="all",b.value="default",p.value=1,g()},x=o=>{I.push(`/user/mall/product/${o}`)},E=async o=>{try{N.success("已成功添加到购物车")}catch{N.error("添加失败，请重试")}},S=o=>{I.push(`/user/mall/checkout?productId=${o}&quantity=1`)},K=o=>{const s=j.value.find(k=>k.id===o);return s?s.name:"未分类"},T=o=>{P.value=o,g()},H=o=>{p.value=o,g()};return(o,s)=>{const k=i("el-input"),U=i("el-col"),y=i("el-button"),L=i("el-row"),$=i("el-radio-button"),q=i("el-radio-group"),m=i("el-option"),J=i("el-select"),O=i("el-skeleton"),R=i("el-empty"),A=i("el-rate"),G=i("el-icon"),Q=i("el-pagination");return n(),r("div",ae,[s[11]||(s[11]=a("div",{class:"mall-header"},[a("h1",null,"健康商城"),a("p",null,"精选健康产品，为您的健康保驾护航")],-1)),a("div",oe,[t(L,{gutter:20},{default:l(()=>[t(U,{xs:24,sm:16},{default:l(()=>[t(k,{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),placeholder:"搜索商品","prefix-icon":"el-icon-search",onKeyup:Y(z,["enter"]),clearable:""},null,8,["modelValue"])]),_:1}),t(U,{xs:24,sm:8},{default:l(()=>[t(y,{type:"primary",onClick:z,class:"search-btn"},{default:l(()=>[...s[4]||(s[4]=[u("搜索",-1)])]),_:1}),t(y,{onClick:D,class:"ml-2"},{default:l(()=>[...s[5]||(s[5]=[u("重置",-1)])]),_:1})]),_:1})]),_:1}),a("div",ie,[s[7]||(s[7]=a("span",{class:"filter-label"},"商品分类：",-1)),t(q,{modelValue:w.value,"onUpdate:modelValue":s[1]||(s[1]=e=>w.value=e),size:"small"},{default:l(()=>[t($,{label:"all"},{default:l(()=>[...s[6]||(s[6]=[u("全部",-1)])]),_:1}),(n(!0),r(B,null,F(j.value,e=>(n(),Z($,{key:e.id,label:e.id},{default:l(()=>[u(d(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),a("div",le,[s[8]||(s[8]=a("span",{class:"filter-label"},"排序方式：",-1)),t(J,{modelValue:b.value,"onUpdate:modelValue":s[2]||(s[2]=e=>b.value=e),placeholder:"默认排序",size:"small"},{default:l(()=>[t(m,{label:"默认排序",value:"default"}),t(m,{label:"价格从低到高",value:"price_asc"}),t(m,{label:"价格从高到低",value:"price_desc"}),t(m,{label:"最新上架",value:"newest"}),t(m,{label:"销量优先",value:"sales"})]),_:1},8,["modelValue"])])]),a("div",ne,[C.value?(n(),r("div",re,[t(O,{rows:8,animated:""})])):v.value.length===0?(n(),r("div",ce,[t(R,{description:"暂无商品"})])):(n(),r("div",de,[(n(!0),r(B,null,F(v.value,e=>(n(),r("div",{key:e.id,class:"product-card"},[a("div",ue,[a("img",{src:e.image,alt:e.name,onClick:_=>x(e.id)},null,8,pe),e.isNew?(n(),r("div",ge,"新品")):f("",!0),e.discount>0?(n(),r("div",me,d(e.discount)+"% OFF",1)):f("",!0)]),a("div",{class:"product-info",onClick:_=>x(e.id)},[a("div",ve,d(K(e.categoryId)),1),a("div",ye,d(e.name),1),a("div",fe,d(e.description),1),a("div",Ce,[a("div",he,"¥"+d(e.price),1),e.originalPrice?(n(),r("div",we,"¥"+d(e.originalPrice),1)):f("",!0)]),a("div",be,[a("div",ke,"已售 "+d(e.salesCount),1),t(A,{modelValue:e.rating,"onUpdate:modelValue":_=>e.rating=_,disabled:"","show-score":!1,size:"small"},null,8,["modelValue","onUpdate:modelValue"])])],8,_e),a("div",Ne,[t(y,{size:"small",type:"primary",onClick:M(_=>E(e.id),["stop"])},{default:l(()=>[t(G,null,{default:l(()=>[t(ee(se))]),_:1}),s[9]||(s[9]=u(" 加入购物车 ",-1))]),_:1},8,["onClick"]),t(y,{size:"small",type:"success",onClick:M(_=>S(e.id),["stop"])},{default:l(()=>[...s[10]||(s[10]=[u(" 立即购买 ",-1)])]),_:1},8,["onClick"])])]))),128))])),v.value.length>0?(n(),r("div",Ie,[t(Q,{"current-page":p.value,"onUpdate:currentPage":s[3]||(s[3]=e=>p.value=e),"page-size":P.value,"page-sizes":[12,24,36],layout:"total, sizes, prev, pager, next, jumper",total:V.value,onSizeChange:T,onCurrentChange:H},null,8,["current-page","page-size","total"])])):f("",!0)])])}}},Ue=te(Pe,[["__scopeId","data-v-692411fe"]]);export{Ue as default};
