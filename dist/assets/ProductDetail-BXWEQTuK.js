import{r as _,o as J,l as Q,E as g,c,d as t,f as l,b as s,w as o,u as A,g as d,e as h,t as i,h as r,m as P,J as G,Q as K}from"./index-B9RLcm7_.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"product-detail"},Y={key:0,class:"loading-container"},Z={key:1,class:"product-content"},ee={class:"product-image-section"},te={class:"main-image"},ae=["src","alt"],se={key:0,class:"new-tag"},oe={key:1,class:"discount-tag"},le={class:"product-info-section"},ne={class:"breadcrumb"},ie={class:"product-title"},ce={class:"product-rating"},de={class:"rating-count"},re={class:"price-section"},ue={class:"current-price"},_e={key:0,class:"original-price"},me={class:"sales-info"},pe={class:"quantity-section"},ve={class:"action-buttons"},be={class:"detail-tabs"},ge=["innerHTML"],fe={class:"specs-content"},ye={key:2,class:"empty-container"},he={style:{"text-align":"center","margin-top":"20px"}},ke={__name:"ProductDetail",setup(Ce){const N=Q(),k=A(),f=_(!1),a=_(null),v=_(1),u=_(!1),C=_("detail"),I=_([{id:"medical",name:"医疗器械"},{id:"nutritional",name:"营养保健品"},{id:"fitness",name:"健身器材"},{id:"elderly",name:"老年用品"},{id:"beauty",name:"美容养颜"}]);J(()=>{T()});const T=()=>{const{productId:n}=N.params;if(!n){g.error("商品ID不存在");return}f.value=!0;try{a.value=M(n),F(n)}catch(e){console.error("加载商品详情失败",e),g.error("加载商品详情失败，请重试")}finally{f.value=!1}},M=n=>{const e={1:{id:1,name:"智能血压计家用上臂式全自动测量仪",description:"大屏幕显示，一键测量，操作简单，适合老年人使用",price:299,originalPrice:399,image:"/images/products/blood-pressure.jpg",categoryId:"medical",isNew:!0,discount:25,salesCount:1256,reviewCount:250,rating:4.5,params:{品牌:"健康卫士",型号:"BP-3000",适用人群:"中老年",测量方式:"上臂式",显示方式:"LCD大屏",电源:"4节5号电池/DC电源"},detailHtml:`
        <div class="detail-content-wrapper">
          <h3>产品介绍</h3>
          <p>本款智能血压计采用先进的示波法测量技术，提供准确可靠的血压测量结果。大屏幕显示设计，让老年人也能轻松读取数据。一键测量功能，操作简单方便。</p>
          <h3>产品特点</h3>
          <ul>
            <li>大屏幕LCD显示，清晰易读</li>
            <li>一键操作，简单便捷</li>
            <li>自动加压和排气，舒适测量</li>
            <li>100组测量数据记忆功能</li>
          </ul>
        </div>
      `}};return e[n]||e[1]},F=n=>{u.value=!1},w=()=>{k.push("/user/mall")},z=()=>{g.success(`已成功将${v.value}件商品添加到购物车`)},B=()=>{k.push(`/user/mall/checkout?productId=${a.value.id}&quantity=${v.value}`)},H=()=>{u.value=!u.value,g.success(u.value?"收藏成功":"取消收藏成功")},L=n=>{const e=I.value.find(m=>m.id===n);return e?e.name:"未分类"},q=n=>Object.entries(n).map(([e,m])=>({key:e,value:m}));return(n,e)=>{const m=l("el-skeleton"),V=l("el-col"),y=l("el-breadcrumb-item"),E=l("el-breadcrumb"),S=l("el-rate"),U=l("el-input-number"),b=l("el-button"),$=l("el-row"),x=l("el-tab-pane"),D=l("el-table-column"),j=l("el-table"),O=l("el-tabs"),R=l("el-empty");return d(),c("div",X,[f.value?(d(),c("div",Y,[t(m,{rows:10,animated:""})])):a.value?(d(),c("div",Z,[t($,{gutter:30},{default:o(()=>[t(V,{xs:24,md:10},{default:o(()=>[s("div",ee,[s("div",te,[s("img",{src:a.value.image,alt:a.value.name},null,8,ae),a.value.isNew?(d(),c("div",se,"新品")):h("",!0),a.value.discount>0?(d(),c("div",oe,i(a.value.discount)+"% OFF",1)):h("",!0)])])]),_:1}),t(V,{xs:24,md:14},{default:o(()=>[s("div",le,[s("div",ne,[t(E,{separator:"/"},{default:o(()=>[t(y,{onClick:w},{default:o(()=>[...e[3]||(e[3]=[r("商城首页",-1)])]),_:1}),t(y,null,{default:o(()=>[r(i(L(a.value.categoryId)),1)]),_:1}),t(y,null,{default:o(()=>[r(i(a.value.name),1)]),_:1})]),_:1})]),s("h1",ie,i(a.value.name),1),s("div",ce,[t(S,{modelValue:a.value.rating,"onUpdate:modelValue":e[0]||(e[0]=p=>a.value.rating=p),disabled:"","show-score":!0},null,8,["modelValue"]),s("span",de,"("+i(a.value.reviewCount)+"条评价)",1)]),s("div",re,[s("div",ue,"¥"+i(a.value.price),1),a.value.originalPrice?(d(),c("div",_e,"¥"+i(a.value.originalPrice),1)):h("",!0),s("div",me,"已售 "+i(a.value.salesCount)+" 件",1)]),s("div",pe,[e[4]||(e[4]=s("span",{class:"section-label"},"数量：",-1)),t(U,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=p=>v.value=p),min:1,max:99,size:"small"},null,8,["modelValue"])]),s("div",ve,[t(b,{type:"primary",size:"large",onClick:B,class:"buy-now-btn"},{default:o(()=>[...e[5]||(e[5]=[r(" 立即购买 ",-1)])]),_:1}),t(b,{size:"large",onClick:z,class:"add-cart-btn"},{default:o(()=>[t(P(G)),e[6]||(e[6]=r(" 加入购物车 ",-1))]),_:1}),t(b,{size:"large",type:u.value?"success":"default",onClick:H},{default:o(()=>[t(P(K)),r(" "+i(u.value?"已收藏":"收藏"),1)]),_:1},8,["type"])])])]),_:1})]),_:1}),s("div",be,[t(O,{modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=p=>C.value=p)},{default:o(()=>[t(x,{label:"商品详情",name:"detail"},{default:o(()=>[s("div",{class:"detail-content",innerHTML:a.value.detailHtml},null,8,ge)]),_:1}),t(x,{label:"规格参数",name:"specs"},{default:o(()=>[s("div",fe,[t(j,{data:q(a.value.params),border:""},{default:o(()=>[t(D,{prop:"key",label:"参数名",width:"120"}),t(D,{prop:"value",label:"参数值"})]),_:1},8,["data"])])]),_:1})]),_:1},8,["modelValue"])])])):(d(),c("div",ye,[t(R,{description:"商品不存在或已下架"}),s("div",he,[t(b,{type:"primary",onClick:w},{default:o(()=>[...e[7]||(e[7]=[r("返回商城首页",-1)])]),_:1})])]))])}}},xe=W(ke,[["__scopeId","data-v-e8911b06"]]);export{xe as default};
