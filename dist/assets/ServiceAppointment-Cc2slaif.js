import{r as f,k as V,o as W,c as z,b as o,d as a,w as s,f as p,F as P,D as M,u as X,g as _,h as c,C as b,t as m,L as Z,e as L,E as y,n as ee}from"./index-zq5Uwr5D.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"service-appointment"},oe={class:"back-button-container"},le={class:"search-filter"},se={class:"hot-services-section"},ie={class:"hot-services-grid"},re={class:"service-card-content"},ne={class:"service-image"},ce=["src","alt"],de={class:"service-info"},pe={class:"service-name"},ue={class:"service-doctor"},me={class:"service-price"},ge={class:"service-tags"},ve={class:"all-services-section"},fe={class:"section-header"},_e={class:"service-name-cell"},he=["src","alt"],ye={class:"price-tag"},we={class:"rating"},be={class:"pagination-container"},Ce={class:"my-appointments-section"},ke={__name:"ServiceAppointment",setup(ze){const B=X(),g=f(""),v=f("all"),C=f(""),i=f({currentPage:1,pageSize:10}),N=f([{id:1,name:"全面体检套餐",doctor:"张医生",price:1280,tags:["热门","全面"],imageUrl:"/health-service-platform/service1.jpg"},{id:2,name:"心血管健康评估",doctor:"李医生",price:880,tags:["专家","专科"],imageUrl:"/health-service-platform/service2.jpg"},{id:3,name:"中医体质辨识",doctor:"王医生",price:380,tags:["特色","中医"],imageUrl:"/health-service-platform/service3.jpg"},{id:4,name:"亚健康调理",doctor:"陈医生",price:580,tags:["调理","健康"],imageUrl:"/health-service-platform/service4.jpg"}]),S=f([{id:1,name:"全面体检套餐",doctor:"张医生",category:"常规体检",price:1280,duration:120,rating:4.8,imageUrl:"/health-service-platform/service1.jpg"},{id:2,name:"心血管健康评估",doctor:"李医生",category:"专科检查",price:880,duration:90,rating:4.9,imageUrl:"/health-service-platform/service2.jpg"},{id:3,name:"中医体质辨识",doctor:"王医生",category:"健康评估",price:380,duration:60,rating:4.7,imageUrl:"/health-service-platform/service3.jpg"},{id:4,name:"亚健康调理",doctor:"陈医生",category:"康复治疗",price:580,duration:45,rating:4.6,imageUrl:"/health-service-platform/service4.jpg"},{id:5,name:"心理咨询服务",doctor:"刘医生",category:"专家问诊",price:680,duration:50,rating:4.8,imageUrl:"/health-service-platform/service5.jpg"},{id:6,name:"骨密度检查",doctor:"赵医生",category:"专科检查",price:480,duration:30,rating:4.7,imageUrl:"/health-service-platform/service6.jpg"},{id:7,name:"血糖监测套餐",doctor:"黄医生",category:"常规体检",price:280,duration:40,rating:4.5,imageUrl:"/health-service-platform/service7.jpg"},{id:8,name:"营养师咨询",doctor:"孙医生",category:"健康评估",price:380,duration:50,rating:4.9,imageUrl:"/health-service-platform/service8.jpg"}]),Y=f([{id:1,serviceName:"心血管健康评估",appointmentDate:"2024-10-28",appointmentTime:"09:30",doctor:"李医生",status:"已预约"},{id:2,serviceName:"全面体检套餐",appointmentDate:"2024-10-15",appointmentTime:"14:00",doctor:"张医生",status:"已完成"},{id:3,serviceName:"中医体质辨识",appointmentDate:"2024-10-20",appointmentTime:"10:00",doctor:"王医生",status:"已完成"}]),$=V(()=>{let l=[...S.value];if(g.value){const h=g.value.toLowerCase();l=l.filter(d=>d.name.toLowerCase().includes(h)||d.doctor.toLowerCase().includes(h))}if(v.value!=="all"){const h={physical:"常规体检",consultation:"专家问诊",specialist:"专科检查",assessment:"健康评估",rehabilitation:"康复治疗"};l=l.filter(d=>d.category===h[v.value])}const e=(i.value.currentPage-1)*i.value.pageSize,r=e+i.value.pageSize;return l.slice(e,r)}),U=V(()=>{let l=[...S.value];if(g.value){const e=g.value.toLowerCase();l=l.filter(r=>r.name.toLowerCase().includes(e)||r.doctor.toLowerCase().includes(e))}if(v.value!=="all"){const e={physical:"常规体检",consultation:"专家问诊",specialist:"专科检查",assessment:"健康评估",rehabilitation:"康复治疗"};l=l.filter(r=>r.category===e[v.value])}return l.length}),A=()=>{B.push("/user/home")},I=()=>{i.value.currentPage=1,console.log("搜索服务",{searchKeyword:g.value,category:v.value,date:C.value})},T=l=>{y.info("查看服务详情功能正在开发中")},j=l=>{y.info(`预约服务：${l.name}`)},E=async l=>{try{await ee.confirm("确定要取消这个预约吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.success("预约已取消")}catch{}},F=l=>{y.info("查看报告功能正在开发中")},K=l=>{y.info("查看预约详情功能正在开发中")},R=l=>({热门:"danger",全面:"info",专家:"warning",专科:"success",特色:"primary",中医:"info",调理:"success",健康:"primary"})[l]||"info",q=l=>({已预约:"primary",已完成:"success",已取消:"danger",进行中:"warning"})[l]||"info",G=l=>{i.value.pageSize=l,i.value.currentPage=1},H=l=>{i.value.currentPage=l};return W(()=>{console.log("加载服务预约数据")}),(l,e)=>{const r=p("el-button"),h=p("el-input"),d=p("el-option"),J=p("el-select"),O=p("el-date-picker"),w=p("el-card"),k=p("el-tag"),x=p("el-pagination"),n=p("el-table-column"),Q=p("el-rate"),D=p("el-table");return _(),z("div",ae,[e[18]||(e[18]=o("div",{class:"page-header"},[o("h2",null,"服务预约"),o("p",null,"便捷预约各类健康服务，提前规划您的健康管理")],-1)),o("div",oe,[a(r,{type:"primary",icon:"el-icon-arrow-left",onClick:A},{default:s(()=>[...e[7]||(e[7]=[c("返回首页",-1)])]),_:1})]),a(w,{class:"search-filter-card",shadow:"hover"},{default:s(()=>[o("div",le,[a(h,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),placeholder:"搜索服务名称或医生",clearable:"","prefix-icon":"el-icon-search",class:"search-input"},null,8,["modelValue"]),a(J,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=t=>v.value=t),placeholder:"选择服务分类",class:"category-select"},{default:s(()=>[a(d,{label:"全部服务",value:"all"}),a(d,{label:"常规体检",value:"physical"}),a(d,{label:"专家问诊",value:"consultation"}),a(d,{label:"专科检查",value:"specialist"}),a(d,{label:"健康评估",value:"assessment"}),a(d,{label:"康复治疗",value:"rehabilitation"})]),_:1},8,["modelValue"]),a(O,{modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=t=>C.value=t),type:"date",placeholder:"选择预约日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"date-picker"},null,8,["modelValue"]),a(r,{type:"primary",onClick:I},{default:s(()=>[...e[8]||(e[8]=[c("搜索",-1)])]),_:1})])]),_:1}),o("div",se,[e[10]||(e[10]=o("div",{class:"section-header"},[o("h3",null,"热门服务推荐")],-1)),o("div",ie,[(_(!0),z(P,null,M(N.value,t=>(_(),b(w,{key:t.id,class:"service-card",shadow:"hover",onClick:u=>T(t.id)},{default:s(()=>[o("div",re,[o("div",ne,[o("img",{src:t.imageUrl,alt:t.name,class:"service-img"},null,8,ce)]),o("div",de,[o("h4",pe,m(t.name),1),o("div",ue,m(t.doctor),1),o("div",me,"¥"+m(t.price),1),o("div",ge,[(_(!0),z(P,null,M(t.tags,u=>(_(),b(k,{key:u,size:"small",type:R(u)},{default:s(()=>[c(m(u),1)]),_:2},1032,["type"]))),128))]),a(r,{type:"primary",size:"small",class:"appointment-btn",onClick:Z(u=>j(t),["stop"])},{default:s(()=>[...e[9]||(e[9]=[c(" 立即预约 ",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["onClick"]))),128))])]),o("div",ve,[o("div",fe,[e[11]||(e[11]=o("h3",null,"所有服务",-1)),a(x,{"current-page":i.value.currentPage,"onUpdate:currentPage":e[3]||(e[3]=t=>i.value.currentPage=t),"page-size":i.value.pageSize,"onUpdate:pageSize":e[4]||(e[4]=t=>i.value.pageSize=t),"page-sizes":[10,20,50],layout:"total, sizes",total:U.value,onSizeChange:G},null,8,["current-page","page-size","total"])]),a(w,{class:"services-table-card",shadow:"hover"},{default:s(()=>[a(D,{data:$.value,style:{width:"100%"}},{default:s(()=>[a(n,{prop:"name",label:"服务名称","min-width":"150"},{default:s(t=>[o("div",_e,[o("img",{src:t.row.imageUrl,alt:t.row.name,class:"service-cell-img"},null,8,he),o("span",null,m(t.row.name),1)])]),_:1}),a(n,{prop:"doctor",label:"主治医生",width:"120"}),a(n,{prop:"category",label:"服务分类",width:"120"},{default:s(t=>[a(k,{size:"small",type:"info"},{default:s(()=>[c(m(t.row.category),1)]),_:2},1024)]),_:1}),a(n,{prop:"price",label:"服务价格",width:"100"},{default:s(t=>[o("span",ye,"¥"+m(t.row.price),1)]),_:1}),a(n,{prop:"duration",label:"服务时长",width:"100"},{default:s(t=>[c(m(t.row.duration)+"分钟 ",1)]),_:1}),a(n,{prop:"rating",label:"用户评分",width:"100"},{default:s(t=>[o("div",we,[a(Q,{"model-value":t.row.rating,disabled:"","show-score":"","text-color":"#ff9900"},null,8,["model-value"])])]),_:1}),a(n,{label:"操作",width:"180",fixed:"right"},{default:s(t=>[a(r,{type:"primary",size:"small",onClick:u=>T(t.row.id)},{default:s(()=>[...e[12]||(e[12]=[c("详情",-1)])]),_:1},8,["onClick"]),a(r,{type:"success",size:"small",onClick:u=>j(t.row)},{default:s(()=>[...e[13]||(e[13]=[c("预约",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),o("div",be,[a(x,{"current-page":i.value.currentPage,"onUpdate:currentPage":e[5]||(e[5]=t=>i.value.currentPage=t),"page-size":i.value.pageSize,"onUpdate:pageSize":e[6]||(e[6]=t=>i.value.pageSize=t),"page-sizes":[10,20,50],layout:"prev, pager, next, jumper",total:U.value,onCurrentChange:H},null,8,["current-page","page-size","total"])])]),_:1})]),o("div",Ce,[e[17]||(e[17]=o("div",{class:"section-header"},[o("h3",null,"我的预约")],-1)),a(w,{class:"appointments-table-card",shadow:"hover"},{default:s(()=>[a(D,{data:Y.value,style:{width:"100%"}},{default:s(()=>[a(n,{prop:"serviceName",label:"服务名称",width:"180"}),a(n,{prop:"appointmentDate",label:"预约日期",width:"120"}),a(n,{prop:"appointmentTime",label:"预约时间",width:"100"}),a(n,{prop:"doctor",label:"医生",width:"120"}),a(n,{prop:"status",label:"状态",width:"100"},{default:s(t=>[a(k,{type:q(t.row.status)},{default:s(()=>[c(m(t.row.status),1)]),_:2},1032,["type"])]),_:1}),a(n,{label:"操作",width:"150",fixed:"right"},{default:s(t=>[t.row.status==="已预约"?(_(),b(r,{key:0,type:"danger",size:"small",onClick:u=>E(t.row.id)},{default:s(()=>[...e[14]||(e[14]=[c(" 取消 ",-1)])]),_:1},8,["onClick"])):L("",!0),t.row.status==="已完成"?(_(),b(r,{key:1,type:"primary",size:"small",onClick:u=>F(t.row.id)},{default:s(()=>[...e[15]||(e[15]=[c(" 查看报告 ",-1)])]),_:1},8,["onClick"])):L("",!0),a(r,{type:"info",size:"small",onClick:u=>K(t.row.id)},{default:s(()=>[...e[16]||(e[16]=[c(" 详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])])}}},Te=te(ke,[["__scopeId","data-v-9565c5d8"]]);export{Te as default};
