import{r as h,k as H,o as Z,c as b,b as e,d as s,w as o,f as n,i as D,u as ee,g as w,h as c,P,t as i,m as k,Q as te,R as se,F as E,e as ae,E as C,n as oe}from"./index-zq5Uwr5D.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={class:"health-record"},re={class:"back-button-container"},ne={class:"health-overview"},de={class:"overview-icon blood-pressure-icon"},ce={class:"overview-content"},ue={class:"overview-value"},ve={class:"overview-date"},_e={class:"overview-tag"},pe={class:"overview-icon blood-sugar-icon"},he={class:"overview-content"},me={class:"overview-value"},ge={class:"overview-date"},be={class:"overview-tag"},we={class:"overview-icon heart-rate-icon"},fe={class:"overview-content"},ye={class:"overview-value"},Se={class:"overview-date"},Pe={class:"overview-tag"},ke={class:"health-records-section"},Ce={class:"section-header"},xe={class:"section-header-right"},ze={class:"table-container"},Re={class:"table-value"},Te={class:"table-value"},Be={class:"table-value"},Ve={class:"pagination-container"},He={class:"health-trends-section"},De={class:"section-header"},Ee={class:"section-header-right"},Le={class:"chart-container"},Ne={key:0,class:"chart-placeholder"},Ue={__name:"HealthRecord",setup(Me){const L=ee(),u=h("bloodPressure"),x=h("7days"),z=h(!1),r=h({bloodPressure:{latest:{systolic:120,diastolic:80,date:"2024-10-23"}},bloodSugar:{latest:{value:5.6,date:"2024-10-23"}},heartRate:{latest:{value:72,date:"2024-10-23"}}}),v=h({currentPage:1,pageSize:10}),N=[{id:1,systolic:120,diastolic:80,date:"2024-10-23",time:"08:00",notes:"晨起测量"},{id:2,systolic:125,diastolic:82,date:"2024-10-22",time:"18:30",notes:"晚餐后"},{id:3,systolic:118,diastolic:78,date:"2024-10-21",time:"07:45",notes:"晨起测量"},{id:4,systolic:130,diastolic:85,date:"2024-10-20",time:"20:00",notes:"睡前测量"},{id:5,systolic:122,diastolic:81,date:"2024-10-19",time:"08:15",notes:"晨起测量"}],U=[{id:1,value:5.6,date:"2024-10-23",time:"08:00",notes:"空腹"},{id:2,value:7.2,date:"2024-10-23",time:"12:30",notes:"餐后2小时"},{id:3,value:5.8,date:"2024-10-22",time:"07:45",notes:"空腹"},{id:4,value:6.9,date:"2024-10-22",time:"12:15",notes:"餐后2小时"},{id:5,value:5.5,date:"2024-10-21",time:"08:10",notes:"空腹"}],M=[{id:1,value:72,date:"2024-10-23",time:"08:00",notes:"静息状态"},{id:2,value:85,date:"2024-10-23",time:"14:30",notes:"轻度活动后"},{id:3,value:70,date:"2024-10-22",time:"07:45",notes:"静息状态"},{id:4,value:92,date:"2024-10-22",time:"18:00",notes:"运动后"},{id:5,value:71,date:"2024-10-21",time:"08:15",notes:"静息状态"}],R=H(()=>{switch(u.value){case"bloodPressure":return N;case"bloodSugar":return U;case"heartRate":return M;default:return[]}}),F=H(()=>R.value.length),I={"background-color":"var(--el-color-primary-light-9)",color:"var(--el-color-primary)","font-weight":"600","border-bottom":"1px solid var(--el-color-primary-light-7)"},$=()=>{L.push("/user/home")},j=()=>{C.info("添加健康记录功能正在开发中")},Q=a=>{C.info("编辑健康记录功能正在开发中")},q=async a=>{try{await oe.confirm("确定要删除这条记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),C.success("删除成功")}catch{}},T=(a,t)=>a<120&&t<80?"success":a<140&&t<90?"info":"warning",B=(a,t)=>a<120&&t<80?"正常":a<140&&t<90?"正常高值":"偏高",f=a=>u.value==="bloodSugar"?a<6.1?"success":a<7?"info":"warning":a>=60&&a<=100?"success":a<60?"info":"warning",y=a=>u.value==="bloodSugar"?a<6.1?"正常":a<7?"正常高值":"偏高":a>=60&&a<=100?"正常":a<60?"偏低":"偏高",A=a=>{v.value.pageSize=a},G=a=>{v.value.currentPage=a},J=()=>{const a=D.service({target:"#healthTrendsChart",text:"加载趋势图表中...",background:"rgba(255, 255, 255, 0.8)"});setTimeout(()=>{a.close(),z.value=!0,console.log("图表初始化完成")},1500)};return Z(()=>{console.log("加载健康档案数据"),J(),setTimeout(()=>{},500)}),(a,t)=>{const m=n("el-button"),K=n("Scale"),g=n("el-icon"),p=n("el-tag"),O=n("HeartPulse"),S=n("el-card"),_=n("el-option"),V=n("el-select"),d=n("el-table-column"),W=n("el-table"),X=n("el-pagination");return w(),b("div",ie,[t[15]||(t[15]=e("div",{class:"top-decoration"},null,-1)),t[16]||(t[16]=e("div",{class:"page-header"},[e("h2",{class:"header-title"},"健康档案"),e("p",{class:"header-desc"},"完整记录您的健康数据，随时查看健康趋势")],-1)),e("div",re,[s(m,{type:"primary",icon:"el-icon-arrow-left",onClick:$,class:"back-btn"},{default:o(()=>[...t[4]||(t[4]=[c(" 返回首页 ",-1)])]),_:1})]),s(S,{class:"overview-card",shadow:"hover"},{header:o(()=>[...t[5]||(t[5]=[e("div",{class:"card-header"},[e("span",{class:"card-header-title"},"健康数据概览"),e("div",{class:"card-header-line"})],-1)])]),default:o(()=>[e("div",ne,[e("div",{class:P(["overview-item",{"hover-scale":!0}])},[e("div",de,[s(g,{class:"icon-inner"},{default:o(()=>[s(K)]),_:1})]),e("div",ce,[t[6]||(t[6]=e("div",{class:"overview-title"},"血压",-1)),e("div",ue,i(r.value?.bloodPressure?.latest?.systolic||"-")+"/"+i(r.value?.bloodPressure?.latest?.diastolic||"-")+" mmHg",1),e("div",ve,"测量时间："+i(r.value?.bloodPressure?.latest?.date||"-"),1)]),e("div",_e,[s(p,{type:T(r.value?.bloodPressure?.latest?.systolic||0,r.value?.bloodPressure?.latest?.diastolic||0)},{default:o(()=>[c(i(B(r.value?.bloodPressure?.latest?.systolic||0,r.value?.bloodPressure?.latest?.diastolic||0)),1)]),_:1},8,["type"])])]),e("div",{class:P(["overview-item",{"hover-scale":!0}])},[e("div",pe,[s(g,{class:"icon-inner"},{default:o(()=>[s(k(te))]),_:1})]),e("div",he,[t[7]||(t[7]=e("div",{class:"overview-title"},"血糖",-1)),e("div",me,i(r.value?.bloodSugar?.latest?.value||"-")+" mmol/L",1),e("div",ge,"测量时间："+i(r.value?.bloodSugar?.latest?.date||"-"),1)]),e("div",be,[s(p,{type:f(r.value?.bloodSugar?.latest?.value||0)},{default:o(()=>[c(i(y(r.value?.bloodSugar?.latest?.value||0)),1)]),_:1},8,["type"])])]),e("div",{class:P(["overview-item",{"hover-scale":!0}])},[e("div",we,[s(g,{class:"icon-inner"},{default:o(()=>[s(O)]),_:1})]),e("div",fe,[t[8]||(t[8]=e("div",{class:"overview-title"},"心率",-1)),e("div",ye,i(r.value?.heartRate?.latest?.value||"-")+" 次/分",1),e("div",Se,"测量时间："+i(r.value?.heartRate?.latest?.date||"-"),1)]),e("div",Pe,[s(p,{type:f(r.value?.heartRate?.latest?.value||0)},{default:o(()=>[c(i(y(r.value?.heartRate?.latest?.value||0)),1)]),_:1},8,["type"])])])])]),_:1}),e("div",ke,[e("div",Ce,[t[10]||(t[10]=e("div",{class:"section-header-left"},[e("h3",{class:"section-title"},"健康数据记录"),e("div",{class:"section-line"})],-1)),e("div",xe,[s(V,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=l=>u.value=l),placeholder:"选择数据类型",size:"small",class:"data-select"},{default:o(()=>[s(_,{label:"血压记录",value:"bloodPressure"}),s(_,{label:"血糖记录",value:"bloodSugar"}),s(_,{label:"心率记录",value:"heartRate"})]),_:1},8,["modelValue"]),s(m,{type:"primary",size:"small",onClick:j,class:"add-btn"},{default:o(()=>[s(g,{class:"add-icon"},{default:o(()=>[s(k(se))]),_:1}),t[9]||(t[9]=c(" 添加记录 ",-1))]),_:1})])]),s(S,{class:"records-table-card",shadow:"hover"},{default:o(()=>[e("div",ze,[s(W,{data:R.value,style:{width:"100%"},border:!0,"header-cell-style":I,"row-class-name":"table-row-hover"},{default:o(()=>[u.value==="bloodPressure"?(w(),b(E,{key:0},[s(d,{prop:"systolic",label:"收缩压",width:"100"},{default:o(l=>[e("span",Re,i(l.row.systolic)+" mmHg",1)]),_:1}),s(d,{prop:"diastolic",label:"舒张压",width:"100"},{default:o(l=>[e("span",Te,i(l.row.diastolic)+" mmHg",1)]),_:1}),s(d,{label:"状态",width:"100"},{default:o(l=>[s(p,{type:T(l.row.systolic,l.row.diastolic),class:"status-tag"},{default:o(()=>[c(i(B(l.row.systolic,l.row.diastolic)),1)]),_:2},1032,["type"])]),_:1})],64)):(w(),b(E,{key:1},[s(d,{prop:"value",label:"数值",width:"120"},{default:o(l=>[e("span",Be,i(l.row.value)+" "+i(u.value==="bloodSugar"?"mmol/L":"次/分"),1)]),_:1}),s(d,{label:"状态",width:"100"},{default:o(l=>[s(p,{type:f(l.row.value),class:"status-tag"},{default:o(()=>[c(i(y(l.row.value)),1)]),_:2},1032,["type"])]),_:1})],64)),s(d,{prop:"date",label:"测量日期",width:"150"}),s(d,{prop:"time",label:"测量时间",width:"100"}),s(d,{prop:"notes",label:"备注"}),s(d,{label:"操作",width:"140",fixed:"right"},{default:o(l=>[s(m,{type:"primary",size:"small",text:"",onClick:Y=>Q(l.row),class:"operation-btn edit-btn"},{default:o(()=>[...t[11]||(t[11]=[c(" 编辑 ",-1)])]),_:1},8,["onClick"]),s(m,{type:"danger",size:"small",text:"",onClick:Y=>q(l.row.id),class:"operation-btn delete-btn"},{default:o(()=>[...t[12]||(t[12]=[c(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),e("div",Ve,[s(X,{"current-page":v.value.currentPage,"onUpdate:currentPage":t[1]||(t[1]=l=>v.value.currentPage=l),"page-size":v.value.pageSize,"onUpdate:pageSize":t[2]||(t[2]=l=>v.value.pageSize=l),"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:F.value,onSizeChange:A,onCurrentChange:G,class:"custom-pagination"},null,8,["current-page","page-size","total"])])]),_:1})]),e("div",He,[e("div",De,[t[13]||(t[13]=e("div",{class:"section-header-left"},[e("h3",{class:"section-title"},"健康趋势分析"),e("div",{class:"section-line"})],-1)),e("div",Ee,[s(V,{modelValue:x.value,"onUpdate:modelValue":t[3]||(t[3]=l=>x.value=l),placeholder:"选择图表类型",size:"small",class:"chart-select"},{default:o(()=>[s(_,{label:"最近7天",value:"7days"}),s(_,{label:"最近30天",value:"30days"}),s(_,{label:"最近90天",value:"90days"})]),_:1},8,["modelValue"])])]),s(S,{class:"trends-chart-card",shadow:"hover"},{default:o(()=>[e("div",Le,[z.value?ae("",!0):(w(),b("div",Ne,[s(k(D),{type:"spinner",text:"加载趋势图表中...",class:"chart-loading"})])),t[14]||(t[14]=e("div",{id:"healthTrendsChart",class:"chart-content"},null,-1))])]),_:1})]),t[17]||(t[17]=e("div",{class:"bottom-decoration"},null,-1))])}}},$e=le(Ue,[["__scopeId","data-v-83104e73"]]);export{$e as default};
